(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{838:function(s,t,a){"use strict";a.r(t);var n=a(40),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"è¯´åœ¨å‰é¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯´åœ¨å‰é¢"}},[s._v("#")]),s._v(" è¯´åœ¨å‰é¢")]),s._v(" "),a("p",[s._v('æœ€è¿‘ä¸€ç›´åœ¨å¿™è‡ªå·±çš„æ¯•ä¸šè®¾è®¡,åœ¨åšçš„è¿‡ç¨‹ä¸­,æœ‰çš„åœ°æ–¹è¦ç”¨åˆ°ç¼“å­˜.æˆ‘é‡‡ç”¨äº† localStorage å’Œ sessionStorage çš„æ–¹å¼è¿›è¡Œçš„ç¼“å­˜,å¹¶å®Œæ•´åœ°å®ç°äº†è‡ªå·±æƒ³è¦çš„åŠŸèƒ½.ä½†æ˜¯æˆ‘çªç„¶æƒ³åˆ°å‰ç«¯çš„"\b æ¨¡å—åŒ–å¼€å‘",è¿™å—å®Œå…¨å¯ä»¥ç‹¬ç«‹å‡ºæ¥,å°†å…¶å°è£…ä¸ºä¸€ä¸ªç»Ÿä¸€çš„ API,æƒ³è¦ä½¿ç”¨çš„æ—¶å€™å°±å¼•å…¥ä½¿ç”¨,äºæ˜¯æˆ‘å°†å…¶å°è£…ä¸ºäº†ä¸€ä¸ªå°† localStorage å’Œ sessionStorage ç»Ÿä¸€åœ¨ä¸€èµ·çš„åŠŸèƒ½å‡½æ•°:'),a("code",[s._v("xieyezi-storage.js")]),s._v('.æˆ‘å­˜æ”¾åœ¨è‡ªå·±çš„ç”µè„‘é‡Œé¢,ä»¥ä¾¿æˆ‘è‡ªå·±ä»¥åä½¿ç”¨,ä½†æ˜¯æˆ‘çªç„¶æƒ³åˆ°äº†ç¨‹åºå‘˜çš„"å¼€æºç²¾ç¥"ğŸ˜¹,å¥½å§å…¶å®æ˜¯æƒ³åˆ°,æ¯æ¬¡æˆ‘ä»¬éœ€è¦å®‰è£…ä¸€ä¸ªåŒ…çš„æ—¶å€™,æˆ‘ä»¬éƒ½æ˜¯é‡‡ç”¨'),a("code",[s._v("npm install xxx")]),s._v("çš„æ–¹å¼è¿›è¡Œå¼•å…¥,ç„¶ååœ¨ä½¿ç”¨çš„æ—¶å€™,å°±é€šè¿‡"),a("code",[s._v("import xxx from xxx")]),s._v(" è¿™æ ·çš„æ–¹å¼è¿›è¡Œä½¿ç”¨.äºæ˜¯æˆ‘ä¹Ÿæƒ³è¦å°†æˆ‘çš„åŠŸèƒ½å‡½æ•°å°è£…ä¸ºä¸€ä¸ª npm åŒ…,å¹¶ä¸”å‘å¸ƒåˆ°"),a("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm"),a("OutboundLink")],1),s._v("ğŸ‘† ä¸Šé¢å»,é‚£ä¹Ÿç®—æ˜¯ä¸ºæˆ‘ä»¬å¼€æºä½œå‡ºäº†ä¸€å®šçš„è´¡çŒ®.")]),s._v(" "),a("h3",{attrs:{id:"è¯´å¾—ç®€å•-åŠ¨æ‰‹å›°éš¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯´å¾—ç®€å•-åŠ¨æ‰‹å›°éš¾"}},[s._v("#")]),s._v(" è¯´å¾—ç®€å•,åŠ¨æ‰‹å›°éš¾")]),s._v(" "),a("p",[s._v("ä¸–ç•Œä¸Šå¾ˆå¤šäº‹æƒ…éƒ½æ˜¯è¯´èµ·æ¥å®¹æ˜“,åšèµ·æ¥æ¯”è¾ƒéš¾,å¹¶ä¸”,ä¸‡äº‹å¼€å¤´éš¾.æˆ‘å‘ç°æˆ‘è‡ªå·±ç¼ºä¹è¿™æ–¹é¢çš„å¾ˆå¤šçŸ¥è¯†,äºæ˜¯æˆ‘å¼€å§‹äº†è¾¹å­¦è¾¹å†™çš„æ¨¡å¼.\nåœ¨å‰æœŸçš„è€ƒå¯Ÿä¸­,æˆ‘çœ‹äº†è®¸å¤šçš„ npm åŒ…çš„æºç ,ä»–ä»¬éƒ½æœ‰å·®ä¸å¤šç±»ä¼¼çš„ç›®å½•ç»“æ„,äºæ˜¯æˆ‘ä¾è‘«èŠ¦ç”»ç“¢,æ„å»ºäº†å¦‚ä¸‹çš„ç›®å½•ç»“æ„:")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n    â”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dist\n    â””â”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("src\n        â””â”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("src"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n\n")])])]),a("p",[s._v("æˆ‘æ‰§è¡Œäº†ä¸€ä¸‹ npm çš„åˆå§‹åŒ–å·¥ç¨‹å‘½ä»¤ï¼š")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("npm init "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y\n")])])]),a("p",[s._v("ç›®å½•å˜æˆäº†è¿™æ ·:")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nâ”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dist\nâ”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json\nâ””â”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("src\n    â””â”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("src"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n")])])]),a("p",[s._v("åŸæ¥åˆå§‹åŒ–åŒ…éƒ½ä¼šæœ‰ä¸€ä¸ª package.json,è¿™ä¸ªæ–‡ä»¶åŒ…å«äº†è¿™ä¸ªåŒ… \b çš„å…¥å£åŠå…¶ä¿¡æ¯\nåœ¨ src ç›®å½•ä¸‹é¢å­˜æ”¾åŠŸèƒ½ä»£ç "),a("code",[s._v("index.js")]),s._v(",dist ç›®å½•ä¸‹é¢åˆ™å­˜æ”¾æ‰“åŒ…åçš„æ–‡ä»¶"),a("code",[s._v("xieyezi-storage.js")]),s._v("\nä¸€åˆ‡éƒ½å·²ç»å‡†å¤‡å°±ç»ª,æˆ‘å¼€å§‹å¯»æ‰¾ä¸€ä¸ªæ‰“åŒ…å·¥å…·.")]),s._v(" "),a("h3",{attrs:{id:"webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack"}},[s._v("#")]),s._v(" webpack")]),s._v(" "),a("p",[s._v("åœ¨ä¼—å¤šçš„æ‰“åŒ…å·¥å…·ä¸­,æˆ‘ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„æ‰“åŒ…å·¥å…·å°±æ˜¯ webpack,äºæ˜¯å…ˆå®‰è£…(åœ¨æ ¹ç›®å½•):")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm i webpack webpack-cli --save-dev\n")])])]),a("p",[s._v("ç„¶åé ç€è‡ªå·±å¯¹ webpack çš„æµ…è–„çŸ¥è¯†,å«æ³ªå†™ä¸‹äº†é…ç½®æ–‡ä»¶(webpack.config.js):")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./src/index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xieyezi-storage.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    publicPath"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/dist/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("äºæ˜¯æ‰“åŒ…ä¹‹å,ç”Ÿæˆäº†"),a("code",[s._v("xieyezi-storage.js")]),s._v("çš„æ–‡ä»¶,äºæ˜¯æˆ‘å°†æ­¤æ–‡ä»¶å¤åˆ¶åˆ°æˆ‘çš„é¡¹ç›®ç›®å½•é‡Œé¢è¿›è¡Œå¼•å…¥ä½¿ç”¨:")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" storage "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"common/js/xieyezi-storage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("ç»“æœæ˜¯æˆ‘æˆåŠŸåœ°å¼•å…¥äº†æ–‡ä»¶å¹¶è¿›è¡Œäº†ä½¿ç”¨.ä½†æ˜¯æˆ‘è¿™æ˜¯ ES6 è§„èŒƒ,å¹¶ä¸èƒ½æ”¯æŒ commonJS æ¨¡å¼,è¯´åˆ°è¿™ä¸ª,æœ‰å¦‚ä¸‹æ ‡å‡†:")]),s._v(" "),a("ul",[a("li",[s._v("amd â€“ å¼‚æ­¥æ¨¡å—å®šä¹‰,ç”¨äºåƒ RequireJS è¿™æ ·çš„æ¨¡å—åŠ è½½å™¨")]),s._v(" "),a("li",[s._v("cjs â€“ CommonJS,é€‚ç”¨äº Node å’Œ Browserify/Webpack ä¾‹å¦‚"),a("code",[s._v("require('xieyezi-storage')")])]),s._v(" "),a("li",[s._v("es â€“ å°†è½¯ä»¶åŒ…ä¿å­˜ä¸º ES æ¨¡å—æ–‡ä»¶ ä¾‹å¦‚ "),a("code",[s._v("import storage from 'xieyezi-storage'")]),s._v(".")]),s._v(" "),a("li",[s._v("iife â€“ ä¸€ä¸ªè‡ªåŠ¨æ‰§è¡Œçš„åŠŸèƒ½,é€‚åˆä½œä¸º"),a("code",[s._v("<script>")]),s._v("æ ‡ç­¾.ï¼ˆå¦‚æœè¦ä¸ºåº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªæ†ç»‘åŒ…,æ‚¨å¯èƒ½æƒ³è¦ä½¿ç”¨å®ƒ,å› ä¸ºå®ƒä¼šä½¿æ–‡ä»¶å¤§å°å˜å°.ï¼‰")]),s._v(" "),a("li",[s._v("umd â€“ é€šç”¨æ¨¡å—å®šä¹‰,ä»¥ amd,cjs å’Œ iife ä¸ºä¸€ä½“,umd æ˜¯ amd å’Œ CommonJS çš„ç³…åˆ,umd å…ˆåˆ¤æ–­æ˜¯å¦æ”¯æŒ Node.js çš„æ¨¡å—ï¼ˆexportsï¼‰æ˜¯å¦å­˜åœ¨,å­˜åœ¨åˆ™ä½¿ç”¨ Node.js æ¨¡å—æ¨¡å¼.")])]),s._v(" "),a("p",[s._v("æ‰€ä»¥æˆ‘æ‰“åŒ…çš„æ–‡ä»¶æ— æ³•é€šè¿‡ commonJS æ–¹å¼æ¥å¼•å…¥.")]),s._v(" "),a("h3",{attrs:{id:"librarytarget"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#librarytarget"}},[s._v("#")]),s._v(" libraryTarget")]),s._v(" "),a("p",[s._v("libraryTarget å°±æ˜¯é—®é¢˜çš„å…³é”®,é€šè¿‡è®¾ç½®è¯¥å±æ€§,è¿™æ˜¯å¯ä»¥æ§åˆ¶ library å¦‚ä½•ä»¥ä¸åŒæ–¹å¼æš´éœ²çš„é€‰é¡¹.")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\nentry"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\noutput"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xieyezi-storage.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    publicPath"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/dist/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    libraryTarget"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'umd'")]),s._v("\n    path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dist'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])])]),a("p",[s._v("è¿™æ ·å­,æˆ‘ä»¬æ‰“åŒ…çš„æ–‡ä»¶å°±ä¼šæ”¯æŒå„ç§è§„èŒƒäº†.è¿™æ ·å­æˆ‘ä»¥ä¸ºå°±ç®—å®Œäº†,ä½†æ˜¯äº‹å®å¹¶éå¦‚æ­¤.æˆ‘çœ‹äº†ä¸€ä¸‹,æ‰“åŒ…ä¹‹åçš„æ–‡ä»¶å¤§å°å±…ç„¶æœ‰ 2k.è¿™ä¹ˆå¤§ï¼Ÿï¼Ÿ")]),s._v(" "),a("h3",{attrs:{id:"rollup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rollup"}},[s._v("#")]),s._v(" rollup")]),s._v(" "),a("p",[s._v("åœ¨å‰é¢çš„è€ƒå¯Ÿä¸­,æˆ‘åœ¨é€‰æ‹©æ‰“åŒ…å·¥å…·çš„æ—¶å€™,æˆ‘çœ‹è§äº† Vue æ¡†æ¶å’Œ React ç”¨çš„æ˜¯ä»€ä¹ˆæ‰“åŒ…å·¥å…·,ç»“æœæˆ‘å‘ç°,å±…ç„¶ä»–ä»¬ä¸¤éƒ½ä¸æ˜¯ç”¨çš„ webpack,è€Œæ˜¯ç”¨çš„æ˜¯ä¸€ä¸ªå«åš "),a("code",[s._v("rollup")]),s._v(" çš„ä¸œè¥¿.äºæ˜¯æˆ‘å»æŸ¥é˜…äº† rollup çš„å®˜ç½‘:")]),s._v(" "),a("blockquote",[a("p",[s._v("Rollup æ˜¯ä¸€ä¸ª JavaScript æ¨¡å—æ‰“åŒ…å™¨,å¯ä»¥å°†å°å—ä»£ç ç¼–è¯‘æˆå¤§å—å¤æ‚çš„ä»£ç ,ä¾‹å¦‚ library æˆ–åº”ç”¨ç¨‹åº.Rollup å¯¹ä»£ç æ¨¡å—ä½¿ç”¨æ–°çš„æ ‡å‡†åŒ–æ ¼å¼,è¿™äº›æ ‡å‡†éƒ½åŒ…å«åœ¨ JavaScript çš„ ES6 ç‰ˆæœ¬ä¸­,è€Œä¸æ˜¯ä»¥å‰çš„ç‰¹æ®Šè§£å†³æ–¹æ¡ˆ,å¦‚ CommonJS å’Œ AMD.ES6 æ¨¡å—å¯ä»¥ä½¿ä½ è‡ªç”±ã€æ— ç¼åœ°ä½¿ç”¨ä½ æœ€å–œçˆ±çš„ library ä¸­é‚£äº›æœ€æœ‰ç”¨ç‹¬ç«‹å‡½æ•°,è€Œä½ çš„é¡¹ç›®ä¸å¿…æºå¸¦å…¶ä»–æœªä½¿ç”¨çš„ä»£ç .")])]),s._v(" "),a("p",[s._v("æ‰€ä»¥è¯´,rollup å°±æ˜¯ä¸“é—¨ç”¨æ¥æ‰“åŒ… library çš„,è€Œ webpack å¤§å¤šæ˜¯ç”¨æ¥æ‰“åŒ…åº”ç”¨ç¨‹åºçš„.")]),s._v(" "),a("p",[s._v("äºæ˜¯æˆ‘æ„‰å¿«çš„å¼€å§‹äº† rollup çš„å­¦ä¹ ä½¿ç”¨:\nå…ˆå®‰è£…:")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("npm install "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("global rollup\n")])])]),a("p",[s._v("åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºä¸€ä¸ª rollup.config.js:")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  input"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./src/index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./dist/xieyezi-storage.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    format"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"umd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xieyezi-storage"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("ç„¶åå°±æ˜¯æ‰§è¡Œ "),a("code",[s._v("rollup c")]),s._v(" ,æˆåŠŸæ‰“åŒ….è€Œä¸”ç»è¿‡æˆ‘çš„æµ‹è¯•,èƒ½æ­£å¸¸å¼•å…¥ä½¿ç”¨.æˆ‘ä¸€çœ‹,æ‰ 1kğŸ˜‚,å¼€å¿ƒçš„ç¬‘äº†.\nç„¶åæˆ‘å°±æ‰“ç®—ç”¨æˆ‘ä»¬çš„"),a("code",[s._v("uglify")]),s._v("è¿›è¡Œä»£ç å‹ç¼©:")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("npm i rollup"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("uglify "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n")])])]),a("p",[s._v("åœ¨ rollup.config.js é…ç½®å¼•å…¥:")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" uglify "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rollup-plugin-uglify"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  input"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./src/index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./dist/xieyezi-storage.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    format"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"umd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xieyezi-storage"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("uglify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("ç„¶åé‡æ–°è¿è¡Œ "),a("code",[s._v("rollup c")]),s._v(" è¿›è¡Œæ‰“åŒ…,ç»“æœç›´æ¥æŠ¥é”™")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://i.loli.net/2019/03/28/5c9c69facbebb.jpg",alt:"IMG_0665.JPG"}})]),s._v(" "),a("p",[s._v("æˆ‘ä¸Šå»å°±æ˜¯ä¸€é¡¿è°·æ­ŒåŠ ç™¾åº¦,åŸæ¥ uglify æ’ä»¶åªæ”¯æŒ es5 çš„å‹ç¼©.çœ‹æ¥æˆ‘åªèƒ½å¦å¯»å‡ºè·¯.æˆ‘çœ‹è§äº† "),a("code",[s._v("terser")]),s._v(" è¿™ä¸ªæ’ä»¶,è¿™ä¸ªæ’ä»¶ä¹Ÿèƒ½å¯¹ä»£ç è¿›è¡Œå‹ç¼©,æ”¯æŒ es6.")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("npm i rollup"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("terser "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n")])])]),a("p",[s._v("åœ¨ rollup.config.js é…ç½®å¼•å…¥:")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" terser "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rollup-plugin-terser"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  input"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./src/index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./dist/xieyezi-storage.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    format"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"umd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xieyezi-storage"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("terser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("å†æ¬¡è¿›è¡Œæ‰“åŒ…,æˆåŠŸæ‰“åŒ…ï¼ï¼ï¼å¯æ˜¯æˆ‘ä»¬æ‰“åŒ…ä¹‹åå¯¹ä»£ç åªæ”¯æŒ es6,æˆ‘ä»¬è¿˜éœ€è¦ç”¨ "),a("code",[s._v("babel")]),s._v(" è¿›è¡Œè½¬ä¹‰:")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//package.json")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-core"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.9.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-loader"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.2.4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-plugin-add-module-exports"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^0.2.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-plugin-transform-es2015-modules-umd"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.12.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-plugin-transform-object-assign"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.22.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-plugin-transform-runtime"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.9.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-polyfill"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.22.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-preset-env"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^1.5.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-preset-es2015"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.9.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-preset-stage-2"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.5.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rollup-plugin-babel"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^3.0.7"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rollup-plugin-terser"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^4.0.4"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("å†è¿›è¡Œ"),a("code",[s._v("npm install")]),s._v("\nè¿™é‡Œè¦æ³¨æ„,è¦ä½¿ç”¨ babel,åœ¨ rollup é‡Œé¢,å¿…é¡»å®‰è£…å®Œå®ƒæ‰€éœ€å¯¹ä¾èµ–,ä¸èƒ½åªå®‰è£… "),a("code",[s._v("rollup-plugin-babel")]),s._v(".å¿…é¡»å®‰è£…å®Œæ‰€æœ‰ babel æ‰€éœ€ä¾èµ–.")]),s._v(" "),a("p",[s._v("å®Œæ•´çš„ rollup.config.js:")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" terser "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rollup-plugin-terser"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" babel "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rollup-plugin-babel"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  input"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./src/index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./dist/xieyezi-storage.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    format"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"umd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xieyezi-storage"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("babel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node_modules/**"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("terser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º.babelrc:")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n    "presets": [\n        [\n            "env",\n            {\n                "modules": false\n            }\n        ]\n    ],\n    "plugins": [\n        "transform-object-assign"\n    ]\n}\n')])])]),a("p",[s._v("æ‰§è¡Œæ‰“åŒ…,æ‰“åŒ…æˆåŠŸ\nå®Œæ•´çš„ package.json:")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xieyezi-storage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"description"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a package that encapsulates localStorage and sessionStorage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/xieyezi-storage.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"module"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/xieyezi-storage.esm.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"test"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo \\"Error: no test specified\\" && exit 1"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"keywords"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"web"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"localStorage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sessionStorage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"author"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xieyezi"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"license"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ISC"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"git"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/xieyezi/webStorage"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"babel-core"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.9.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"babel-loader"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.2.4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"babel-plugin-add-module-exports"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^0.2.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"babel-plugin-transform-es2015-modules-umd"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.12.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"babel-plugin-transform-object-assign"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.22.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"babel-plugin-transform-runtime"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.9.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"babel-polyfill"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.22.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"babel-preset-env"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^1.5.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"babel-preset-es2015"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.9.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"babel-preset-stage-2"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.5.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"rollup-plugin-babel"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^3.0.7"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"rollup-plugin-terser"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^4.0.4"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("æœ€åçš„é¡¹ç›®ç»“æ„å¦‚ä¸‹:")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nâ”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("README")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("md\nâ”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dist\nâ”‚   â”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dist"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("xieyezi"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("storage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("esm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\nâ”‚   â””â”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dist"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("xieyezi"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("storage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\nâ”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json\nâ”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json\nâ”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("rollup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\nâ”œâ”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("babelrc\nâ””â”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("src\n    â””â”€â”€ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("src"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n")])])]),a("p",[s._v("æˆ‘æŒ‰ç…§ "),a("code",[s._v("es")]),s._v(" å’Œ "),a("code",[s._v("umd")]),s._v(" æ‰“åŒ…äº†ä¸¤æ¬¡.")]),s._v(" "),a("h3",{attrs:{id:"å°†åŒ…ä¸Šä¼ è‡³-npm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°†åŒ…ä¸Šä¼ è‡³-npm"}},[s._v("#")]),s._v(" å°†åŒ…ä¸Šä¼ è‡³ npm")]),s._v(" "),a("p",[s._v("å…ˆå» npm æ³¨å†Œä¸€ä¸ªè´¦å·,ç„¶åè¿›å…¥åˆ°æ ¹ç›®å½•è¿›è¡Œç™»å½•:")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ npm login\nUsername: xieyezi\nPassword:\nEmail: (this IS public) 1435398529@qq.com\nLogged in as xieyezi on https://registry.npmjs.org/.\n")])])]),a("p",[s._v("æ³¨:è¾“å…¥å¯†ç çš„æ—¶å€™ä¸ä¼šæ˜¾ç¤º,åªè¦æœ€åæ˜¾ç¤º Logged in as your nickName å³å¯.\nç„¶åè¾“å…¥:")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm publish\n")])])]),a("p",[s._v("å®ƒä¼šæç¤ºä½ æˆåŠŸå‘å¸ƒ,å¹¶ä¼šç»™ä½ å‘é‚®ä»¶.\nè¿›å…¥åˆ° npm å®˜ç½‘è¿›è¡Œæœç´¢æˆ‘ä»¬å‘å¸ƒçš„åŒ…,å¦‚æœæˆåŠŸæœç´¢åˆ°,åˆ™å‘å¸ƒæˆåŠŸ:\n"),a("img",{attrs:{src:"https://i.loli.net/2019/03/28/5c9c7d748441f.png",alt:"QQ20190328-155257@2x.png"}})]),s._v(" "),a("p",[s._v("å¥½äº†,æ¥ä¸‹æ¥,è¿›å…¥åˆ°æˆ‘è‡ªå·±çš„æ¯•ä¸šè®¾è®¡çš„æ ¹ç›®å½•:")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("npm install xieyzi"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("storage\n")])])]),a("p",[s._v("åœ¨ node_moudules é‡Œé¢æŸ¥æ‰¾ "),a("code",[s._v("xieyezi-storage")]),s._v(" :\n"),a("img",{attrs:{src:"https://i.loli.net/2019/03/28/5c9c7e592c74c.png",alt:"QQ20190328-155537@2x.png"}}),s._v("\næˆåŠŸæ‰¾åˆ°,å¼•å…¥é¡¹ç›®,æˆåŠŸåœ°è¿›è¡Œäº†å¼•å…¥ âœŒï¸")]),s._v(" "),a("h3",{attrs:{id:"æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[s._v("#")]),s._v(" æ€»ç»“")]),s._v(" "),a("p",[s._v("å®Œæˆä¸Šé¢çš„è¿™äº›å·¥ä½œ,æˆ‘èŠ±äº†å‰å‰ååå·®ä¸å¤š 5 å¤©çš„æ—¶é—´,å‰æœŸä¸»è¦æ˜¯åœ¨å­¦ä¹ ,åé¢æ‰å¼€å§‹åŠ¨æ‰‹åš.åšçš„è¿‡ç¨‹ä¸­é‡åˆ°äº†å¾ˆå¤š "),a("code",[s._v("error")]),s._v(" å’Œ "),a("code",[s._v("bug")]),s._v(" ,ä½†æ˜¯éƒ½æ˜¯æ…¢æ…¢çš„è§£å†³äº†å›°éš¾.æˆ‘è§‰å¾—æœ€å¤§çš„æ”¶è·å°±æ˜¯:å¾ˆå¤šæ—¶å€™,ä¸æ˜¯æˆ‘ä»¬ä¸ä¼š,åªæ˜¯æˆ‘ä»¬ä¸æ„¿æ„ä¸»åŠ¨å»åšè€Œå·².æ‰€ä»¥æœ‹å‹å§,é‡åˆ°è‡ªå·±ä¸ä¼šçš„ä¸œè¥¿,æ’¸èµ·è¢–å­å°±æ˜¯å¹²å§ï¼ï¼")])])}),[],!1,null,null,null);t.default=r.exports}}]);